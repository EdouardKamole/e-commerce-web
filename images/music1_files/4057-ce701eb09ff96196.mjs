"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4057],{406893:(e,t,n)=>{n.d(t,{Z:()=>a}),n(441143);var i=n(785893);class r{static factory(e){return e instanceof r?e:new r(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function a(e){let{css:t,unsafeCSS:n,...a}=e,s=String(t||"")||n||"",o=!!s;return o?(0,i.jsx)("style",{...a,dangerouslySetInnerHTML:{__html:String(r.factory(s))}}):null}},587703:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(214877);let r=()=>(0,i.v)().logContextEvent},541841:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),r=n(973935);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),a(this,"observer",null),a(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=r.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}let o=s},775089:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var i=n(667294),r=n(883119),a=n(214877),s=n(103322);function o(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l={};function u(e){let t=l[e];return t&&t.screenWidth===window.innerWidth||(l[e]={screenWidth:window.innerWidth}),l[e]}let p=e=>{let t=e.__id||e.id;return"string"==typeof t&&t||null};class c{constructor(){o(this,"idMap",new Map),o(this,"objMap",new WeakMap)}get(e){let t=p(e);return this.objMap.get(e)??(t?this.idMap.get(t):void 0)}has(e){let t=p(e);return this.objMap.has(e)??(!!t&&this.idMap.has(t))}set(e,t){let n=p(e);n&&this.idMap.set(n,t),this.objMap.set(e,t)}reset(){this.idMap=new Map,this.objMap=new WeakMap}}var d=n(547643),m=n(213377),h=n(406893),f=n(340523),g=n(5859),y=n(554786),b=n(953565),v=n(84768),x=n(785893);function w({analyticsData:e,children:t,idx:n,isMeasuring:r,masonryV2ExpName:a,masonryV2ExpGroup:o}){let l=(0,y.ZP)(),{isAuthenticated:u}=(0,g.B)(),p=(0,v.MM)();return(0,i.useEffect)(()=>{let t=e.current[n];if(t){let{fetchTimestamp:t,measureTimestamp:i,hasRendered:s,pageCount:c}=e.current[n]??{},d={deviceType:l,experimentName:a,experimentGroup:o,handlerId:p,isAuthenticated:u,pageCount:c};r&&!i&&(e.current[n].measureTimestamp=Date.now(),(0,b.LY)("webapp.masonry.itemMeasureStart",Date.now()-t,{tags:d})),r||s||((0,b.LY)("webapp.masonry.itemRenderStart",Date.now()-i,{tags:d}),e.current[n].hasRendered=!0)}},[r]),(0,x.jsx)(s.Z,{name:"MasonryItem",children:t})}function C(e){let{align:t,cacheKey:n,experimentalTwoColItems:o,id:l,isGridCentered:p=!0,items:C,layout:S,loadItems:_,masonryRef:j,renderItem:$,scrollContainerRef:M,virtualize:P=!0}=e,E=(0,y.ZP)(),{isAuthenticated:D,isRTL:I}=(0,g.B)(),{logContextEvent:Z}=(0,a.v)(),R=(0,f.F)(),T="desktop"===E,W=(0,v.MM)(),L=(0,i.useRef)(C.map(()=>({fetchTimestamp:Date.now(),measureTimestamp:Date.now(),hasRendered:!1,pageCount:0}))),k=e.columnWidth??m.yF,N=e.gutterWidth??(T?m.oX:1),O=e.minCols??m.yc,U=e.serverRender??!!T,A="flexible"===S||"desktop"!==E,F=U?"serverRenderedFlexible":"flexible",V=(0,i.useRef)(0),B=k+N,H=function(e){if(null==e)return;let t=u(e);return t.positionCache||(t.positionCache=new c),t.positionCache}(n),G=function(e){if(null==e)return;let t=u(e);return t.measurementCache||(t.measurementCache=new c),t.measurementCache}(n),z=(0,i.useCallback)(()=>M?.current||window,[M]),Y=(0,i.useRef)(!0),J=C.map((e,t)=>({index:t,columnSpan:e.columnSpan??1})).filter(e=>e.columnSpan>1),{anyEnabled:K}=R.checkExperiment("web_masonry_ssr_container_query"),Q=p&&Y.current?"gridCentered":"",{className:X,styles:q}=function(e){let t=`m_${Object.keys(e).reduce((t,n)=>{let i=e[n];return null==i||"object"==typeof i?t:"boolean"==typeof i?t+(i?"t":"f"):t+i},"").replace(/\:/g,"\\:")}`,{flexible:n,gutterWidth:i,isRTL:r,itemWidth:a,maxColumns:s,minColumns:o,multiColumnItems:l}=e,u=a+i,p=Array.from({length:s+1-o},(e,t)=>t+o),c=p.map(e=>{let p=e===o?0:e*u,{styles:c,numberOfVisibleItems:d}=l.reduce((r,s)=>{let o=Math.min(s.columnSpan,e),l=null!=s.index&&r.numberOfVisibleItems>=o+s.index,u=n?100/e*o:a*o+i*(o-1),{numberOfVisibleItems:p}=r;return l?p-=o-1:s.index<p&&(p+=1),{styles:r.styles.concat(function({className:e,index:t,columnSpan:n,visible:i,width:r,flexible:a}){return a?`
      .${e} .static[data-column-span="${n}"]:nth-child(${t+1}) {
        visibility: ${i?"visible":"hidden"} !important;
        position: ${i?"inherit":"absolute"} !important;
        width: ${r}% !important;
      }`:`
      .${e} .static[data-column-span="${n}"]:nth-child(${t+1}) {
        visibility: ${i?"visible":"hidden"} !important;
        position: ${i?"inherit":"absolute"} !important;
        width: ${r}px !important;
      }`}({className:t,index:s.index,columnSpan:s.columnSpan,visible:l,width:u,flexible:n})),numberOfVisibleItems:p}},{styles:"",numberOfVisibleItems:e}),m=n?`
      .${t} .static {
        box-sizing: border-box;
        width: calc(100% / ${e}) !important;
      }
    `:`
      .${t} {
        max-width: ${e*u}px;
      }

      .${t} .static {
        width: ${a}px !important;
      }
    `,h=`
      .${t} .static:nth-child(-n+${d}) {
        position: static !important;
        visibility: visible !important;
        float: ${r?"right":"left"};
        display: block;
      }

      .${t} .static {
        padding: 0 ${i/2}px;
      }

      ${m}

      ${c}
    `;return{minWidth:p,maxWidth:e===s?null:(e+1)*u-1,styles:h}}),d=c.map(({minWidth:e,maxWidth:t,styles:n})=>`
    @container (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${n}
    }
  `),m=c.map(({minWidth:e,maxWidth:t,styles:n})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${n}
    }
  `),h=e.enableContainerQuery?`
    ${d.join("")}
    @supports not (container-type: inline-size) {
      ${m.join("")}
    }
  `:m.join("");return{className:t,styles:`
    .masonryContainer {
      container-type: inline-size;
    }

    .gridCentered {
      margin-left: auto;
      margin-right: auto;
    }

    .${t} .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${h}
  `}}({gutterWidth:N,flexible:A,isRTL:I,itemWidth:k,maxColumns:e.maxColumns??(C.length||m.g5),minColumns:O,multiColumnItems:J,enableContainerQuery:K}),ee=`${Q} ${X}`.trim(),{anyEnabled:et,expName:en,group:ei,isMeasureAllEnabled:er}=(0,d.Z)(),ea=(0,i.useMemo)(()=>!G||C.every(e=>!G.has(e)),[]),es=ei&&ea,eo=(0,i.useRef)(),el=(0,i.useRef)(C.length),eu=(0,i.useRef)(0);(0,i.useEffect)(()=>{es&&C.forEach((e,t)=>{L.current[t]||(L.current[t]={fetchTimestamp:Date.now(),measureTimestamp:0,hasRendered:!1,pageCount:eu.current})}),el.current=C.length,eu.current+=1},[C]),(0,i.useEffect)(()=>{Y.current&&(Y.current=!1)},[]),(0,i.useEffect)(()=>{let e=()=>V.current+=1;return es&&(eo.current=Date.now(),window.addEventListener("scroll",e)),()=>{if(es){let t=L.current;window.removeEventListener("scroll",e);let n=t.filter(e=>!!e.measureTimestamp).length,i=t.filter(e=>e.hasRendered).length,r=el.current,a={deviceType:E,experimentName:en,experimentGroup:ei,handlerId:W,isAuthenticated:D};(0,b.LY)("webapp.masonry.timeSpent",eo.current?Date.now()-eo.current:0,{tags:a}),(0,b.S0)("webapp.masonry.itemsFetched",r,{tags:a}),(0,b.S0)("webapp.masonry.itemsMeasured",n,{tags:a}),(0,b.S0)("webapp.masonry.itemsMeasuredPercentage",Math.floor(n/r*100),{tags:a}),(0,b.S0)("webapp.masonry.itemsRendered",i,{tags:a}),(0,b.S0)("webapp.masonry.itemsRenderedPercentage",Math.floor(i/r*100),{tags:a}),(0,b.S0)("webapp.masonry.scrollCount",V.current,{tags:a})}}},[]);let ep=(0,i.useCallback)(e=>es?(0,x.jsx)(w,{analyticsData:L,idx:e.itemIdx,isMeasuring:e.isMeasuring,masonryV2ExpGroup:ei,masonryV2ExpName:en,children:(0,x.jsx)(s.Z,{name:"MasonryItem",children:$(e)})}):(0,x.jsx)(s.Z,{name:"MasonryItem",children:$(e)}),[$]);return(0,x.jsx)("div",{className:"masonryContainer","data-test-id":"masonry-container",id:l,children:(0,x.jsxs)("div",{className:ee,children:[U&&Y.current?(0,x.jsx)(h.Z,{"data-test-id":"masonry-ssr-styles",unsafeCSS:q}):null,(0,x.jsx)(r.xu,{"data-test-id":"max-width-container",marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,maxWidth:e.maxColumns?B*e.maxColumns:void 0,children:et?(0,x.jsx)(r.GX,{ref:e=>{j&&(j.current=e)},_logTwoColWhitespace:e=>{(0,b.S0)("webapp.masonry.twoColWhitespace",e,{sampleRate:1,tags:{columnWidth:k,minCols:O}}),Z({event_type:14705,component:14468,aux_data:{whitespace_px:e}})},_measureAll:er,_twoColItems:o,align:t,columnWidth:k,gutterWidth:N,items:C,layout:A?F:S??"basic",loadItems:_,measurementStore:G,minCols:O,positionStore:H,renderItem:ep,scrollContainer:z,virtualBufferFactor:.3,virtualize:P}):(0,x.jsx)(r.Rk,{ref:e=>{j&&(j.current=e)},_logTwoColWhitespace:e=>{(0,b.S0)("webapp.masonry.twoColWhitespace",e,{sampleRate:1,tags:{columnWidth:k,minCols:O}}),Z({event_type:14705,component:14468,aux_data:{whitespace_px:e}})},_twoColItems:o,align:t,columnWidth:k,gutterWidth:N,items:C,layout:A?F:S??"basic",loadItems:_,measurementStore:G,minCols:O,positionStore:H,renderItem:ep,scrollContainer:z,virtualBufferFactor:.3,virtualize:P})})]})})}},339001:(e,t,n)=>{n.d(t,{Wc:()=>l,bF:()=>p,nk:()=>o,r7:()=>c});var i=n(667294),r=n(785893);function a(e,t,n){return e.split(n).map(e=>{if(e.match(n)){let n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}let s=/(\{\{\s*\w+\s*\}\})/g;function o(e,t){return a(e,t,s)}function l(e,t){return a(e,t,s).join("")}let u=/(\{\s*\w+\s*\})/g;function p(e,t){return a(e,t,u)}let c=({text:e})=>Array.isArray(e)?e.map((e,t)=>(0,r.jsx)(i.Fragment,{children:e},t)):e},67288:(e,t,n)=>{n.d(t,{P:()=>a,Z:()=>r});var i=n(702664);function r(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function a(){let e=(0,i.useSelector)(({experiences:e})=>e);return!!e&&r(e)}},493538:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(760890),r=n(667294),a=n(107860),s=n(906623),o=n(297315);function l({children:e,isAtEndOfFeed:t,pinData:n,itemCount:l,includeBackgroundImages:u=!1,includeVideos:p=!1,includeSections:c=!1}){return o.N5()?.isAuthenticated,(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:u,includeVideos:p,includeSections:!0}),!function(e){let t=(0,s.E)(),n=(0,r.useRef)(null);(0,r.useEffect)(()=>{e!==n.current&&(n.current=e,t&&(0,a.ZP)(a.at))},[!!t,e])}(l),e}},984571:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(958881);let r=/\{\s*(\w+)\s*\}/g,a=(e,t)=>(0,i.Z)(r,e,t);function s({args:e,format:t}){let n=(e||[]).reduce((e,t,n)=>({...e,[n]:t.text}),{});return a(t,n)}},627408:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),r=n(541841),a=n(901855),s=n(5859),o=n(520893),l=n(503325),u=n(342513);let{Provider:p,useMaybeHook:c}=(0,u.Z)("timeSpentContext");var d=n(822987),m=n(19447),h=n(785893);function f(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(e){super(e),f(this,"componentWillUnmount",()=>{this.unregisterComponent()}),f(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:r,view:a,viewParameter:s}=this.props;return{view:a||r?.view,viewParameter:s||r?.viewParameter,component:t||r?.component,element:n,objectId:i||r?.objectId,clientTrackingParams:e||r?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),f(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),f(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),f(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),f(this,"getTimedPair",()=>this.state.timedPair),f(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),f(this,"isRegistered",!1),f(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),f(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),f(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:n,left:i,right:r,top:a}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===r&&0===a?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new l.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,o.Z)(e.auxData,this.props.auxData)&&(0,o.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e}=this.props;return(0,h.jsx)(p,{value:this.getContext(),children:(0,h.jsx)(r.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:i.Children.only(e)})})}}function y(e){let t=(0,a.Hv)(),n=c(),r=(0,d.w)(),o=(0,m.H0)(),{requestIdentifier:l=""}=(0,s.B)(),u={app_instance_id:l.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{r?.setHistoryStackContext(t)},[t,r]),(0,i.useEffect)(()=>{r?.setPins(o??{})},[o,r]),r?(0,h.jsx)(g,{...e,auxData:u,timeSpentContext:n,timeSpentManager:r,children:e.children}):e.children}y.displayName="TimeSpent";let b=y},830889:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(702664);let r=[1000069,1000075],a={};function s(){var e;return e=(0,i.useSelector)(({experiences:e})=>e),r.forEach(t=>{e[t]&&(void 0===a[t]||a[t].id!==e[t].id)&&(a[t]=e[t])}),a}},282008:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(883119),r=n(214877),a=n(213377),s=n(666472),o=n(984571),l=n(575742),u=n(818385),p=n(785893);let c=a.yF;function d({contextLogData:e,bubbles:t,id:n,referringSource:a,slotIndex:d,storyType:m,title:h,titleIcon:f,viewType:g,viewParameter:y}){let{logContextEvent:b}=(0,r.v)(),v=t.map(({type:e,id:t})=>e+":"+t).join("|"),x={story_type:m,...e,content_ids:v};return(0,p.jsx)(s.F,{componentType:200,contextLogData:x,impressionType:"Story",loggingId:n,objectIdStr:n,slotIndex:d,viewParameter:y,viewType:g,children:({impressionTrackerRef:e})=>(0,p.jsxs)(i.xu,{ref:e,children:[h&&(0,p.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:["number"==typeof f&&f!==l.J&&(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,p.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:(0,l.Z)(f),size:14})}),(0,p.jsx)(i.xv,{weight:"bold",children:(0,o.Z)(h)})]}),t.map((e,t)=>(0,p.jsx)(i.xu,{flex:"none",paddingY:1,children:(0,p.jsx)(u.Z,{bubble:e,contextLogData:x,height:103,onClick:e=>{b({event_type:101,object_id_str:e,view_type:g,view_parameter:y,component:200,aux_data:x})},referringSource:a,slotIndex:t,storyId:n,viewParameter:y,viewType:g,width:c})},`bubble-${e.id}`))]})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/4057-ce701eb09ff96196.mjs.map