"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[96122],{137023:(e,a,o)=>{o.d(a,{Z:()=>t});var l=o(667294),r=o(124946);function t({allowSearchOnMount:e,children:a,onTypeaheadSuggestionsChange:o,resourceName:t,resourceOptions:s,value:i}){let n=(0,r.Z)({allowSearchOnMount:e,resourceName:t,resourceOptions:s,value:i});return(0,l.useEffect)(()=>{n?.length&&o(n)},[n]),a||null}},675266:(e,a,o)=>{o.d(a,{Z:()=>r});let l=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,r=e=>l.test(e)},796122:(e,a,o)=>{o.d(a,{Z:()=>G});var l=o(667294),r=o(883119),t=o(481177),s=o(930837),i=o(140017),n=o(339001),d=o(5859),c=o(14583),h=o(427514),_=o(13848),b=o(554786),m=o(747602),u=o(168477),g=o(205841),x=o(340523),C=o(757640),p=o(137023),v=o(675266),j=o(785893);function f({selectedContacts:e=[],setSelectedContacts:a}){let o=(0,i.ZP)(),{checkExperiment:t}=(0,x.F)(),{group:s}=t("sg_dweb_create_board_add_collaborators_profile"),{data:n}=(0,C.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),[d,c]=(0,l.useState)([]);(0,l.useEffect)(()=>{n&&"enabled_default_suggestions"===s&&c(n.map(e=>"email_share_suggestion"===e.type?{...e,id:e.email||""}:e))},[n,s]);let[h,_]=(0,l.useState)(""),b=e.map(e=>e.id),m=(0,v.Z)(h)&&!b.includes(h)?{id:h,type:"email"}:null,u=[...e,m,...d.filter(e=>!b.includes(e.id))].filter(Boolean),f=o=>{b.includes(o.id)?a?.((e||[]).filter(e=>e.id!==o.id)):a?.([...e,o])};return(0,j.jsxs)(r.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,j.jsx)(r.xu,{paddingY:2,children:(0,j.jsx)(r.xv,{size:"100",children:o._('Add collaborators', 'text indicates that this section is for adding collaborators to a board', 'boardCreate.addCollaborators.heading')})}),(0,j.jsx)(r.xu,{marginBottom:4,marginTop:2,width:"100%",children:(0,j.jsx)(r.xu,{children:(0,j.jsx)(p.Z,{onTypeaheadSuggestionsChange:e=>{c(e)},resourceName:"ShareSuggestionsTypeaheadResource",value:h,children:(0,j.jsx)(r.Um,{accessibilityLabel:o._('Search for collaborators by name or email', 'users can search for other people and add them as collaborators to a board', 'boardCreate.searchBar.accessibilityLabel'),id:"CollaboratorInviteSearchField",onChange:({value:e})=>{_(e)},placeholder:o._('Search by name or email', 'text in search field to indicate that users could search for other users here', 'boadCreate.searchBar.placeHolder'),size:"lg",value:h})})})}),(0,j.jsx)(r.xu,{overflow:"scrollY",children:u.map(e=>(0,j.jsxs)(r.xu,{display:"flex",paddingY:2,children:[(0,j.jsxs)(r.kC,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,j.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,j.jsx)(r.JO,{accessibilityLabel:o._('Email icon', 'Email icon on board create modal', 'boardCreate.emailIcon'),color:"default",icon:"envelope",size:24})}):(0,j.jsx)(r.xu,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,j.jsx)(g.qE,{name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,j.jsx)(r.kC,{alignItems:"center",children:(0,j.jsx)(r.xu,{children:(0,j.jsx)(r.xv,{size:"300",children:e.id})})}):(0,j.jsxs)(r.kC,{direction:"column",justifyContent:"center",children:[(0,j.jsx)(r.xu,{marginBottom:1,children:(0,j.jsx)(r.xv,{lineClamp:1,size:"300",children:e.full_name})}),(0,j.jsx)(r.xu,{children:(0,j.jsx)(r.xv,{size:"200",children:`@${e.username||""}`})})]})]}),(0,j.jsx)(r.kC,{flex:"none",children:(0,j.jsx)(r.zx,{onClick:()=>f(e),selected:b.includes(e.id),size:"lg",text:b.includes(e.id)?o._('Added', 'Text that lets the user know they have added the contact', 'boardCreate.addedContactButton'):o._('Add', 'Text that lets the user know they can add that contact', 'boardCreate.addContactButton')})})]},e.id))})]})}var P=o(14774);let z=({label:e,labelId:a})=>a?(0,j.jsx)(r.__,{htmlFor:a,children:(0,j.jsx)(r.xv,{size:"100",children:e})}):(0,j.jsx)(r.xv,{size:"100",children:e});function A(e){let{children:a,label:o,labelId:t}=e;return(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)(r.xu,{marginBottom:2,children:(0,j.jsx)(z,{label:o,labelId:t})}),a]})}function y({coverPin:e,handleShowBoardCoverEditModal:a}){let o=(0,i.ZP)(),[t,s]=(0,l.useState)(!1),{isRTL:n}=(0,d.B)();return(0,j.jsx)(A,{label:o._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,j.jsx)(r.xu,{position:"relative",width:138,children:(0,j.jsx)(r.iP,{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onTap:a,rounding:4,children:e?.custom_cover?(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)(r.zd,{height:138,rounding:4,width:138,children:(0,j.jsx)(r.Ee,{alt:e.image_url,color:"gray",fit:"cover",naturalHeight:e.size&&e.size[0]||138,naturalWidth:e.size&&e.size[0]||138,src:e.image_url})}),(0,j.jsx)(r.xu,{bottom:!0,left:n,padding:2,position:"absolute",right:!n,children:(0,j.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:t?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,j.jsx)(r.JO,{accessibilityLabel:o._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),color:"default",icon:"edit",size:16})})})]}):(0,j.jsx)(r.xu,{alignItems:"center",color:t?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,j.jsx)(r.JO,{accessibilityLabel:o._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function E({children:e,label:a,labelId:o,subtext:t}){return(0,j.jsx)(l.Fragment,{children:(0,j.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[e,(0,j.jsx)(r.xu,{marginStart:2,children:(0,j.jsxs)(r.__,{htmlFor:o,children:[(0,j.jsx)(r.xv,{size:"300",weight:"bold",children:a}),t]})})]})})}function B({hasCollabBoardEmail:e,isCollaborative:a,onCheckboxChange:o}){let l=(0,i.ZP)();return a&&(0,j.jsx)(E,{label:l._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,j.jsx)(r.xv,{color:"subtle",size:"300",children:l._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,j.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,j.jsx)(r.xu,{marginEnd:1,children:(0,j.jsx)(r.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:o})})})})}var w=o(274262),S=o(847754);function k({board:e,onCollaboratorInviteClick:a}){let o=(0,i.ZP)(),l=(0,S.Z)({boardId:e.id,ownerName:e.owner.full_name??"",ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_medium_url||e.owner.image_small_url||""}),t=l.slice(0,3).map(e=>e.name),s="";switch(l.length){case 3:s=(0,n.Wc)(`${o._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${t[0]}`,second:`${t[1]}`,last:`${t[2]}`});break;case 2:s=(0,n.Wc)(`${o._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${t[0]}`,second:`${t[1]}`});break;default:s=t.join(", ")}let d=l.length>3?(0,n.Wc)(o.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', l.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:s,leftCount:`${l.length-3}`}):(0,n.Wc)(`${o._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:s});return(0,j.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,j.jsx)(r.HE,{accessibilityLabel:d,collaborators:l.map(({name:e,src:a})=>({src:a?.endsWith("/default_75.png")?void 0:a,name:e})),size:"md"}),(0,j.jsx)(r.hU,{accessibilityLabel:o._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:a,size:"lg"})]})}function F({board:e,onCollaboratorInviteClick:a}){let o=(0,i.ZP)(),l=(0,j.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,j.jsx)(r.xv,{inline:!0,size:"100",children:o._('Collaborators', ' - ', ' -- ')}),(0,j.jsx)(w.Z,{}),(0,j.jsx)(r.xv,{inline:!0,size:"100",weight:"bold",children:(0,j.jsx)(r.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:o._('Learn more', ' - ', ' -- ')})})]});return(0,j.jsx)(A,{label:l,labelId:"collaborators",children:(0,j.jsx)(k,{board:e,onCollaboratorInviteClick:a})})}function I({collaboratorInvitesEnabled:e,isCollaborative:a,onCheckboxChange:o}){let l=(0,i.ZP)();return a&&(0,j.jsx)(E,{label:l._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,j.jsx)(r.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:o})})}function T({description:e,descriptionValidatorErrors:a,onChange:o}){let l=(0,i.ZP)(),t="boardEditDescription";return(0,j.jsx)(A,{label:l._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:t,children:(0,j.jsx)(r.Kx,{errorMessage:a.join(", "),id:t,name:"description",onChange:o,placeholder:l._('What\'s your board about?', ' - ', ' -- '),value:e})})}let D=({children:e})=>(0,j.jsx)(r.xu,{paddingX:8,role:"list",children:l.Children.map(e,(a,o)=>a&&(0,j.jsx)(r.xu,{marginBottom:o===l.Children.count(e)-1?1:8,role:"listitem",children:a},o))});function Z({name:e,nameValidatorErrors:a,onChange:o,disabled:l}){let t=(0,i.ZP)();return(0,j.jsx)(A,{label:t._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,j.jsx)(r.nv,{disabled:l,errorMessage:a.join(", "),id:"boardEditName",name:"boardName",onChange:o,placeholder:t._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:e})})}let L=({board:e,collabBoardEmail:a,collaboratorInvitesEnabled:o,coverPin:l,currentUserIsOwner:t,description:s,descriptionValidatorErrors:n,handleBoardLeave:d,isCollaborative:c,showCoverEdit:h,name:_,nameValidatorErrors:b,handleShowBoardCoverEditModal:m,handleChangeName:u,handleChangeDescription:g,handleShowCollaboratorsModal:x,handleChangeCollabBoardEmail:C,handleChangeCollaboratorInvitesEnabled:p})=>{let v=(0,i.ZP)();return(0,j.jsxs)(D,{children:[h&&(0,j.jsx)(y,{coverPin:l,handleShowBoardCoverEditModal:m}),(0,j.jsx)(Z,{disabled:!0,name:_,nameValidatorErrors:b,onChange:u}),(0,j.jsx)(T,{description:s,descriptionValidatorErrors:n,onChange:g}),t&&!!d&&(0,j.jsx)(F,{board:e,onCollaboratorInviteClick:x}),c&&(0,j.jsx)(r.xu,{marginBottom:-7,children:(0,j.jsx)(r.xv,{size:"100",children:v._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,j.jsx)(B,{hasCollabBoardEmail:a,isCollaborative:c,onCheckboxChange:C}),(0,j.jsx)(I,{collaboratorInvitesEnabled:o,isCollaborative:c,onCheckboxChange:p})]})};function M({isProtectedToggler:e,isToggleDisable:a,onChange:o,onCheckboxChange:s,privacy:n}){let d=(0,i.ZP)();if(!0===e)return(0,j.jsx)(E,{label:d._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,j.jsx)(r.xu,{paddingY:2,children:(0,j.jsx)(r.rs,{disabled:a,id:"protected",onChange:o,switched:n===t.Z.BoardPrivacy.PROTECTED})})});if(n!==t.Z.BoardPrivacy.PROTECTED){let e=d._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),o=(0,j.jsx)(l.Fragment,{children:(0,j.jsxs)(r.xv,{color:"subtle",size:"300",children:[d._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,j.jsx)(r.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",underline:"hover",children:d._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,j.jsx)(E,{label:e,labelId:"secret",subtext:o,children:(0,j.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,j.jsx)(r.XZ,{checked:n===t.Z.BoardPrivacy.SECRET,disabled:a,id:"secret",name:"secret",onChange:s})})})}return null}function N({allowHomefeedRecommendations:e,onCheckboxChange:a}){let o=(0,i.ZP)();return(0,j.jsx)(E,{label:o._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,j.jsx)(r.xv,{color:"subtle",size:"300",children:o._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,j.jsx)(r.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:a})})}function R(e,a,o){var l;return(a="symbol"==typeof(l=function(e,a){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var l=o.call(e,a||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?l:String(l))in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}let H=(0,l.lazy)(()=>Promise.all([o.e(97270),o.e(46975)]).then(o.bind(o,732420))),O=(0,l.lazy)(()=>Promise.all([o.e(93810),o.e(10472),o.e(15502),o.e(19373),o.e(41049)]).then(o.bind(o,219373))),$=(e,a)=>(0,m.Gy)({max:e,maxErrorString:(0,h.Z)(a._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})}),U=e=>[$(t.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],V=e=>[(0,m.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),$(t.Z.MAX_CHARS_FOR_BOARD_TITLE,e)],X=({condition:e,children:a})=>e?(0,j.jsx)(r.xu,{position:"absolute",zIndex:s.b7,children:a}):a;class W extends l.Component{constructor(e){super(e),R(this,"handleChangeName",({value:e})=>{let a=(0,m.FU)(V(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:a})}),R(this,"handleChangeDescription",({value:e})=>{let a=(0,m.FU)(U(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:a})}),R(this,"handleChangePrivacyToggle",({value:e})=>{let a="public";e&&(a=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==a&&this.setState({privacy:a})}),R(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),R(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),R(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),R(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),R(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),R(this,"handleCheckboxChange",e=>({event:a,checked:o})=>e({event:a,value:o})),R(this,"handleSubmit",e=>{let{onSubmit:a}=this.props,{collab_board_email:o,collaboratorInvitesEnabled:l,description:r,name:t,privacy:s,allowHomefeedRecommendations:i}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;let n=t.trim(),d=r.trim();this.setState({submitting:!0,submitError:""}),a({name:n,collab_board_email:o,collaborator_invites_enabled:l,description:d,privacy:s,allow_homefeed_recommendations:i}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let a=this.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- ');if(e.message){let{message:o,message_detail:l}=e;a=l?`${o} ${l}`:o}else"string"==typeof e&&(a=e);this.setState({submitting:!1,submitError:a})})}),R(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),R(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),R(this,"handleShowCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!0})}),R(this,"handleHideCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!1})}),R(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();let{onCropChange:a}=this.props;a&&a(e)});let{board:{collab_board_email:a,collaborator_invites_enabled:o,description:l,name:r,pin_count:t,privacy:s,allow_homefeed_recommendations:i}}=e;this.state={collab_board_email:a,description:l,name:r,pin_count:t,privacy:s,allowHomefeedRecommendations:i,collaboratorInvitesEnabled:o,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:r,previousDescription:l,previousPrivacy:s}}static getDerivedStateFromProps(e,a){let o={};return e.board.name&&e.board.name!==a.previousName&&(o.previousName=e.board.name,o.nameValidatorErrors=(0,m.FU)(V(e.i18n),e.board.name)),e.board.description&&e.board.description!==a.previousDescription&&(o.previousDescription=e.board.description,o.descriptionValidatorErrors=(0,m.FU)(U(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==a.previousPrivacy&&(o.previousPrivacy=e.board.privacy),o}getFormFooter(){let{submitText:e}=this.props,{submitError:a}=this.state;return(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)(r.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,j.jsx)(r.xu,{children:(0,j.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:(0,j.jsx)(r.xu,{height:48,children:(0,j.jsx)(r.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),a&&(0,j.jsx)(r.xu,{"aria-live":"polite",paddingX:1,tabIndex:"0",children:(0,j.jsx)(r.xv,{color:"error",children:a})})]})}submitDisabled(){let{descriptionValidatorErrors:e,name:a,nameValidatorErrors:o,submitting:l}=this.state;return!a||o.length>0||e.length>0||l}render(){let{board:e,board:{archived_by_me_at:a,cover_pin:o,id:t,is_collaborative:i},coverImageHeight:d,coverImageWidth:h,currentUserIsOwner:_,handleBoardLeave:b,isAdAccount:m,isAdAccountOwner:g,isDeletable:x,isDesktop:C,isEditable:p,isNameAndSecretView:v,onClose:z,onDeleteButtonClick:A,requestContext:E,title:w,useModalWithNoLayer:S,showSecretBoardCreateToggle:k,shouldShowAddCollaborators:R,setSelectedContacts:$,selectedContacts:U}=this.props,{allowHomefeedRecommendations:V,collab_board_email:W,collaboratorInvitesEnabled:G,description:Y,descriptionValidatorErrors:q,name:K,nameValidatorErrors:J,pin_count:Q,privacy:ee,showBoardCoverEdit:ea,showCollaboratorsModal:eo,showSecretConfirmation:el}=this.state,er=p&&Q>0,et=e.is_ads_only,es=(0,j.jsxs)(D,{children:[er&&(0,j.jsx)(y,{coverPin:o,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,j.jsx)(Z,{disabled:et,name:K,nameValidatorErrors:J,onChange:this.handleChangeName}),(0,j.jsx)(T,{description:Y,descriptionValidatorErrors:q,onChange:this.handleChangeDescription}),_&&!!b&&(0,j.jsx)(F,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,j.jsx)(r.xu,{marginBottom:-7,children:(0,j.jsx)(r.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,j.jsx)(M,{isProtectedToggler:!!m,isToggleDisable:!!m&&!g,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:ee}),!a&&(0,j.jsx)(N,{allowHomefeedRecommendations:V,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,j.jsx)(B,{hasCollabBoardEmail:W,isCollaborative:i,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,j.jsx)(I,{collaboratorInvitesEnabled:G,isCollaborative:i,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),x&&(0,j.jsxs)(r.xu,{marginTop:-6,paddingY:4,children:[(0,j.jsx)(r.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,j.jsxs)(r.iP,{onTap:A,children:[(0,j.jsx)(r.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,j.jsx)(r.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,j.jsx)(r.xv,{color:"subtle",size:"300",children:(0,n.nk)(this.props.i18n._('You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }}  days to restore a deleted Board. After that, it will be permanently deleted.', 'boardForm.delete.helperText', 'Delete board warning text'),{MAX_AGE_RECENTLY_DELETED_BOARD:u.Xq})})]})]})]});_?v&&(es=(0,j.jsxs)(D,{children:[(0,j.jsx)(Z,{disabled:et,name:K,nameValidatorErrors:J,onChange:this.handleChangeName}),!k&&(0,j.jsx)(M,{isProtectedToggler:!!m,isToggleDisable:!!m&&!g,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:ee}),R&&(0,j.jsx)(f,{selectedContacts:U,setSelectedContacts:$})]})):es=(0,j.jsxs)(D,{children:[!!b&&(0,j.jsx)(F,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,j.jsx)(B,{hasCollabBoardEmail:W,isCollaborative:i,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!a&&et&&(0,j.jsx)(N,{allowHomefeedRecommendations:V,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,j.jsx)(r.xv,{color:"subtle",size:"300",children:(0,n.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,j.jsx)(r.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:e.owner.full_name})})})]});let ei=S?r.u_:s.ZP,en=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),ed=(0,j.jsxs)(r.xu,{paddingY:8,position:"relative",children:[(0,j.jsx)(r.X6,{align:"center",size:"500",children:en}),(0,j.jsx)(r.xu,{left:E.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!E.isRTL,top:!0,children:(0,j.jsx)(r.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)(X,{condition:!!S,children:!ea&&!eo&&(0,j.jsx)(ei,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),footer:this.getFormFooter(),heading:w,onDismiss:z,size:"sm",children:(0,j.jsx)(r.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,j.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!et&&es,et&&(0,j.jsx)(L,{board:e,collabBoardEmail:W,collaboratorInvitesEnabled:G,coverPin:o,currentUserIsOwner:_,description:Y,descriptionValidatorErrors:q,handleBoardLeave:b,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,isCollaborative:i,name:K,nameValidatorErrors:J,showCoverEdit:er})]})})})}),ea&&C&&(0,j.jsx)(c.Z,{children:(0,j.jsx)(H,{boardId:t,boardName:K,coverPinId:o?.pin_id,frameHeight:d,frameWidth:h,heading:ed,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),el&&(0,j.jsx)(P.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),eo&&(0,j.jsx)(c.Z,{children:(0,j.jsx)(O,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}function G(e){let a=(0,i.ZP)(),o=(0,b.ZP)();return(0,j.jsx)(W,{...e,i18n:a,isDesktop:"desktop"===o,requestContext:(0,d.B)(),toastManagerContext:(0,_.F9)()})}R(W,"defaultProps",{isNameAndSecretView:!1})},14774:(e,a,o)=>{o.d(a,{Z:()=>i});var l=o(883119),r=o(930837),t=o(140017),s=o(785893);function i({cancelButtonLabel:e,confirmButtonLabel:a,heading:o,message:i,onCancel:n,onConfirm:d}){let c=(0,t.ZP)(),h=o||c._('Are you sure?', ' - ', ' -- '),_=e||c._('Cancel', ' - ', ' -- ');return(0,s.jsx)(r.ZP,{accessibilityModalLabel:h,footer:(0,s.jsxs)(l.xu,{marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(l.xu,{"data-test-id":"cancel-button",padding:1,children:(0,s.jsx)(l.zx,{fullWidth:!0,onClick:n,size:"lg",text:_})}),(0,s.jsx)(l.xu,{"data-test-id":"confirm-button",padding:1,children:(0,s.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:d,size:"lg",text:a})})]}),heading:h,onDismiss:n,role:"alertdialog",children:(0,s.jsx)(l.xu,{padding:4,children:(0,s.jsx)(l.xv,{children:i})})})}},847754:(e,a,o)=>{o.d(a,{I:()=>n,Z:()=>i});var l=o(340523),r=o(757640),t=o(35222);let s=({boardId:e,ownerUsername:a,ownerName:o,ownerImgSrc:s})=>{let{anyEnabled:i}=(0,l.F)().checkExperiment("web_m10n_business_access_orbac_ga"),n=(0,t.Z)(),{data:d,isLoaded:c}=(0,r.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...i&&n?{orbac_subject_id:n}:{}}}),h=[{name:o,src:s,href:`/${a}/`,isDim:!1}];return c&&d&&d.length>0&&d.forEach(e=>{h.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),h},i=s;function n({children:e,...a}){let o=s(a);return e(o)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/96122-c35bbf25a3d05153.mjs.map